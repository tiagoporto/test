/*!
*   typesettings v0.1.0
*
*   Copyright (c) 2017-2017 Tiago Porto (http://tiagoporto.com)
*   Released under the MIT license
*/

@import "_variables.styl"
@import "_web-fonts.styl"
@import "_vertical-rhythm.styl"
@import "_functions.styl"

html {
  /* Stops devices from scaling up text. */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  if ($debug-vertical-rhythm == true){
    position: relative

    &::before,
    &::after {
      content: ""
      position: absolute
      top: 0
      left: 0
      bottom: 0
      right: 0
      width: 100%
      display: none
    }

    &::before {
      z-index: 100000
      background-image: -webkit-linear-gradient(rgba(233, 0, 0, .8) 1px, rgba(0, 0, 0, 0) 1px)
      background-image: linear-gradient(rgba(233, 0, 0, .8) 1px, rgba(0, 0, 0, 0) 1px)
      if(support) {
        background-size: 100% $base-line-height
      }
      background-size: 100% rem($base-line-height)
    }

    // &::after {
    //   z-index: 99999
    //   background-image: -webkit-linear-gradient(rgba(0, 233, 0, .8) 1px, rgba(0, 0, 0, 0) 1px)
    //   background-image: linear-gradient(rgba(0, 233, 0, .8) 1px, rgba(0, 0, 0, 0) 1px)
    //   if(support) {
    //     background-size: 100% ($base-line-height / 4)
    //   }
    //   background-size: 100% rem($base-line-height / 4)
    // }

    &::before,
    &::after {
      display: block
      pointer-events: none
    }
  }
}

body
  font: normal normal $base-font-size\/remove-unit(rem($base-line-height)) $font-family-base
  color: $base-text-color
  text-rendering: optimizeLegibility
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale
  font-smoothing: auto
  font-feature-settings: "liga", "kern"

/*!
*
* Better Font Smoothing in Chrome & Safari
* http://www.intridea.com/blog/2014/5/8/better-font-smoothing-in-chrome-on-mac-os-x
*
*/
@media only screen and (-webkit-min-device-pixel-ratio: 1.25),\
    only screen and ( min-device-pixel-ratio: 1.25),\
    only screen and ( min-resolution: 200dpi),\
    only screen and ( min-resolution: 1.25dppx)

    body
        -webkit-font-smoothing: subpixel-antialiased
